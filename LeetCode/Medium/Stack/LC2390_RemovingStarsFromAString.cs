namespace LeetCode.Medium.Stack;

/// <summary>
/// 2390. Removing Stars From a String
/// Условие: удалить символ слева от каждой '*' и саму '*', выполняя слева направо.
///
/// Подход (стек):
/// - Используем char[] как стек (индекс top указывает на "верх").
/// - Если текущий символ не '*', добавляем его в стек.
/// - Если '*', "снимаем" один символ с вершины (top--).
/// - После прохода первые top символов — это результат.
///
/// Сложность:
/// - Время: O(n)
/// - Память: O(1) доп. (всё делаем на месте в массиве)
///
/// Пример:
/// Input:  "leet**cod*e"
/// Процесс:
/// 1. 'l','e','e','t' → стек = "leet"
/// 2. '*' удаляет 't' → "lee"
/// 3. '*' удаляет 'e' → "le"
/// 4. добавляем 'c','o','d' → "lecod"
/// 5. '*' удаляет 'd' → "leco"
/// 6. 'e' → "lecoe"
/// Output: "lecoe"
///
/// Ещё пример:
/// Input:  "erase*****" → Output: ""
/// </summary>
public class Lc2390RemovingStarsFromAString
{
    public string RemoveStars(string s)
    {
        var buf = new char[s.Length]; // буфер под стек символов
        var top = 0; // индекс вершины стека

        foreach (var c in s)
        {
            if (c != '*')
            {
                // кладём символ в стек
                buf[top++] = c;
            }
            else
            {
                // удаляем верхний элемент
                top--;
            }
        }

        // создаём строку из первых top символов буфера
        return new string(buf, 0, top);
    }
}